# 3.5. Módulo 5
# Módulo de Reporte Liquidación de Agencias  

## Requerimientos Funcionales  

| Número | Requerimiento                | Descripción                                                                 |
|--------|-----------------------------|-----------------------------------------------------------------------------|
| 1      | **Reporte liquidación**     | Permitir búsquedas dinámicas por:<br>- Fecha/hora (rangos personalizados)<br>- Conductor<br>- Región (Ubigeo origen/destino)<br>- Estado (validado/pendiente/discrepante) |  
| 2      | **Consolidar datos**        | Unir automáticamente información de:<br>- Módulo de Manifiestos (guías, conductores, rutas)<br>- Órdenes de Trabajo (peso, cliente, fecha)<br>**Salida**: Reporte consolidado para validación. |  
| 3      | **Cálculo de totales**      | Sumatorias automáticas de:<br>- Peso total (KG) por agencia/ruta<br>- Montos (según tarifas negociadas por KG/servicio). |  
| 4      | **Dashboard KPIs**          | Visualizar en tiempo real:<br>- Despachos<br>- Discrepancias<br>**Objetivo**: Toma de decisiones estratégicas. |  
| 5      | **Exportación a formatos**  | Generar:<br>- Excel (datos crudos, filtrables para análisis financiero). |  
| 6      | **Trazabilidad**           | Mostrar historial completo por paquete:<br>- Fechas despacho/recepción<br>- Agencias/conductores<br>- Estados (tránsito, entregado). |  
| 7      | **Histórico de liquidación**| Consultar reportes anteriores con filtros:<br>- Período (semana/mes/año)<br>- Agencia<br>- Estado (cerrado/pendiente). |  

# Casos de uso

**CU1:**

| **1. Caso de Uso del Sistema** | Generar Reporte de Liquidación |
|-------------------------------|-------------------------------|
| **2. Descripción** | Permite generar reportes de liquidación con filtros avanzados por:<br>- Fechas (inicio/fin)<br>- Conductor/vehículo<br>- Ubigeo (origen/destino)<br>- Estado (validado/pendiente) |
| **3. Actor(es)** | Coordinador de Almacén |
| **4. Precondiciones** | 1. Usuario autenticado<br>2. Datos existentes en módulos de Manifiesto y Órdenes de Trabajo |
| **5. Postcondiciones** | 1. Reporte generado en Excel/PDF<br>2. Datos almacenados para histórico |
| **6. Pasos (Flujo Principal)** | |
| 1. Selecciona "Reporte Liquidación" | Sistema muestra pantalla de filtros (P1.1) |
| 2. Completa filtros:<br>- Fechas<br>- Conductor<br>- Ubigeo | Sistema valida parámetros |
| 3. Click en "Buscar" | Sistema:<br>- Consolida datos de Manifiestos y ÓT<br>- Muestra tabla con resultados |
| 4. Click en "Exportar" | Sistema genera:<br>- Excel con datos crudos<br>- PDF para auditoría |
| **7. Flujo Alternativo** | |
| 3.1 Sin resultados | Sistema muestra "0 registros encontrados" |
| 4.1 Click en "Volver" | Sistema redirige a menú principal (P1) |
| **8. Requerimientos Asociados** | RF1 (Filtros), RF2 (Consolidación), RF3 (Totales), RF5 (Exportación) |
| **9. Prototipos** | P1 (Menú), P1.1 (Pantalla de búsqueda) |

**menú de opciones(P1)**
![](menuopciones.jpg)

**Reporte liquidacion(P2)**
![](reporteliquidacion.jpg)

**CU 2:**


| **1. Caso de Uso del Sistema**   | Consultar Trazabilidad |
|----------------------------------|------------------------|
| **2. Descripción**              | Permite al Coordinador de Almacén rastrear el historial completo de un paquete o manifiesto, desde su recepción hasta su entrega final, mostrando fechas, ubicaciones, conductores y estados intermedios. |
| **3. Actor(es)**                | Coordinador de Almacén |
| **4. Precondiciones**           | - El usuario debe estar autenticado.<br>- El paquete/manifiesto debe estar registrado en el sistema. |
| **5. Postcondiciones**          | - Se visualiza el historial completo del paquete. |
| **6. Pasos (Flujo Principal)**  | |
| 1. Ingresa al módulo "Reporte de Liquidación" y selecciona "Trazabilidad". | El sistema muestra campo de búsqueda por fecha y estado (P3). |
| 2. Aplica los filtros y hace clic en "Buscar". | El sistema consolida datos de Manifiesto y Órdenes de Trabajo. |
| 3. El coordinador da clic en "volver". | El sistema le dirige al menú de opciones (P1). |
| **7. Flujo Alternativo 3.1**    | |
| El coordinador da clic en "ver detalles" | El sistema muestra un modal (P3.1) con los detalles de la trazabilidad. |
| **8. Requerimientos Asociados** | RF6 |
| **9. Prototipo de Interfaz**    | P3, P3.1 |
# Trazabilidad(P3)
![](trazabilidad.jpg)
**modal ver detalle(P3.1)**
![](verdetalle.jpg)

**CU 3**



| **1. Caso de Uso del Sistema**   | Dashboard KPIs |
|----------------------------------|---------------|
| **2. Descripción**               | Permite al Coordinador de Almacén visualizar indicadores clave de desempeño (KPIs) en tiempo real sobre despachos y discrepancias, facilitando la toma de decisiones estratégicas y la identificación de problemas operativos. |
| **3. Actor(es)**                 | Coordinador de Almacén |
| **4. Precondiciones**            | - Datos registrados en módulos de Manifiesto y Órdenes de Trabajo <br> - Dashboard configurado con KPIs relevantes |
| **5. Postcondiciones**           | - Datos disponibles para exportación <br> - Alertas visibles para discrepancias críticas |
| **6. Pasos (Flujo Principal)**   | |
| 1. Selecciona "Dashboard KPIs" | Sistema muestra pantalla (P4) con filtros (fecha, agencia, región) |
| 2. Aplica filtros con "Buscar" | Sistema muestra: <br> - Total KG despachados <br> - Costo total (S/) <br> - % Discrepancias <br> - Gráficos de tendencia |
| 3. Presiona "Exportar" | Sistema genera Excel con datos filtrados |
| 4. Presiona "Volver" | Sistema redirige al menú principal |
| **7. Flujo Alternativo**         | |
| 3.1 Click en KPI "Discrepancias" | Sistema muestra modal (P4.1) con detalle de discrepancias |
| 3.2 Click en "Exportar" en modal | Sistema genera Excel específico de discrepancias |
| **8. Requerimientos Asociados**  | RF4 (Dashboard KPIs) |
| **9. Prototipo de Interfaz**     | P4 (Pantalla principal), P4.1 (Modal de discrepancias) |

**Dashboard KPIs(P4)**
![](kpi.jpg)
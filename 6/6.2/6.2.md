# 6.2. Parámetros físicos

A continuación, se muestran los parámetros físicos para cada tabla por módulo.

## Fórmulas utilizadas 

**Tamaño total estimado=(Número de registros estimados / Registros por bloque ) x Tamaño de bloque**

# 1. Recepción

## Tabla 1:xxxx

**Tamaño de bloque**

**Tamaño de extent**

**Estructura del registro y tamaño del registro lógico**

**Espacio libre reservado**

**Tamaño total estimado**

## Tabla 2:xxxx

**Tamaño de bloque**

**Tamaño de extent**

**Estructura del registro y tamaño del registro lógico**

**Espacio libre reservado**

**Tamaño total estimado**

# 2. Gestión de inventario

## Tabla 1:PRODUCTO

**Tamaño de bloque**
8 KB (8,192 bytes)
Oracle maneja por defecto un tamaño de bloque de 8 KB, adecuado para registros medianos con acceso frecuente.

**Tamaño de extent**

64 KB (equivalente a 8 bloques)
Se define un extent inicial pequeño para facilitar la administración del espacio y evitar fragmentación innecesaria en fases tempranas del crecimiento de datos.

**Estructura del registro y tamaño del registro lógico**
| Campo           | Tipo de Dato   | Tamaño (bytes) | Comentario                                      |
|-----------------|----------------|----------------|-------------------------------------------------|
| idProducto      | INT / NUMBER   | 4              | Clave primaria del producto                     |
| nombreProducto  | VARCHAR2(100)  | 100            | Nombre del producto                             |
| cantidad        | INT / NUMBER   | 4              | Cantidad de unidades del producto               |
| idPaquete       | INT / NUMBER   | 4              | Relación con la tabla PAQUETE                   |
| Subtotal        |                | 112 bytes      | Suma total de campos                            |
| Sobrecarga por fila | Interna (Oracle) | +11 bytes | Metadata por fila (flags, longitud, headers)    |
| **Total**       |                | **123 bytes**  | Tamaño estimado real por fila                   |

**Espacio libre reservado**

10% del bloque (PCTFREE 10), dejando margen para modificaciones futuras de campos como nombreProducto sin necesidad de migrar filas entre bloques.

**Tamaño total estimado**

Espacio útil por bloque:

8,192 × 0.90 = 7,372.8 bytes

Registros por bloque:

7,372.8 ÷ 123 ≈ 59.95 → 59 registros por bloque

Proyección de crecimiento

Se estima un volumen de 300 paquetes/mes, con un promedio de 4 productos por paquete.

Se proyecta un crecimiento del 5% en el segundo año y 6% en el tercero.

| Año | Registros estimados | Registros por bloque | Bloques necesarios | Tamaño total (bytes) | Tamaño total (MB) |
|-----|----------------------|----------------------|---------------------|-----------------------|-------------------|
| 1   | 300×12×4 = 14,400    | 59                   | 244 bloques         | 1,999,488             | 1.91 MB           |
| 2   | 14,400 × 1.05 = 15,120| 59                   | 256 bloques         | 2,097,152             | 2.00 MB           |
| 3   | 15,120 × 1.06 = 16,027| 59                   | 272 bloques         | 2,228,224             | 2.13 MB           |


## Tabla 2:LOTE 

**Tamaño de bloque**

8 KB (8,192 bytes)

**Tamaño de extent**

64 KB (equivalente a 8 bloques)
Este tamaño de extent es adecuado para tablas pequeñas que crecen de forma constante y permite una gestión eficiente del almacenamiento.

**Estructura del registro y tamaño del registro lógico**

| Campo           | Tipo de Dato   | Tamaño (bytes) | Comentario                                |
|-----------------|----------------|----------------|-------------------------------------------|
| idLote          | INT / NUMBER   | 4              | Clave primaria del lote                   |
| estadoLote      | VARCHAR2(20)   | 20             | Estado del lote (pendiente, recibido, etc.) |
| fechaRecepcion  | DATE           | 7              | Fecha en que el lote fue recibido         |
| Subtotal        |                | 31 bytes       | Suma total de campos                      |
| Sobrecarga por fila | Interna (Oracle) | +11 bytes | Metadata interna por fila                 |
| **Total**       |                | **42 bytes**   | Tamaño real estimado por fila             |

**Espacio libre reservado**

PCTFREE 10% (819.2 bytes por bloque)

**Tamaño total estimado**
Espacio útil por bloque:
8,192 × 0.90 = 7,372.8 bytes

Registros por bloque:
7,372.8 ÷ 42 ≈ 175.54 → 175 registros por bloque

Proyección de crecimiento

Se manejan aproximadamente 150 lotes/mes.

Se proyecta un crecimiento del 4% en el segundo año y del 5% en el tercero.

| Año | Registros estimados | Registros por bloque | Bloques necesarios | Tamaño total (bytes) | Tamaño total (MB) |
|-----|----------------------|----------------------|---------------------|-----------------------|-------------------|
| 1   | 150 × 12 = 1,800     | 175                  | 11 bloques          | 90,112                | 0.086 MB          |
| 2   | 1,800 × 1.04 = 1,872 | 175                  | 11 bloques          | 90,112                | 0.086 MB          |
| 3   | 1,872 × 1.05 = 1,966 | 175                  | 12 bloques          | 98,304                | 0.093 MB          |


# 3. Transferencia

## Tabla 1:xxxx

**Tamaño de bloque**

**Tamaño de extent**

**Estructura del registro y tamaño del registro lógico**

**Espacio libre reservado**

**Tamaño total estimado**

## Tabla 2:xxxx

**Tamaño de bloque**

**Tamaño de extent**

**Estructura del registro y tamaño del registro lógico**

**Espacio libre reservado**

**Tamaño total estimado**

# 4. Despacho

## Tabla 1:GUIA_REMISION

**Tamaño de bloque**  
8 KB (8,192 bytes)  
Oracle por defecto maneja tamaños de bloque de 8 KB.

**Tamaño de extent**  
64 KB (equivalente a 8 bloques)  
Se usa un tamaño de extent pequeño inicialmente porque se espera que el crecimiento de la tabla sea continuo pero controlado. Esto evita la fragmentación del espacio y permite escalabilidad.

---

## Estructura del registro y tamaño del registro lógico

| Campo            | Tipo de Dato   | Tamaño (bytes) | Comentario                                  |
|------------------|----------------|----------------|---------------------------------------------|
| idGuiaRemision   | NUMBER         | 8              | Clave primaria                              |
| idOrdenTransporte| NUMBER (FK)    | 8              | FK hacia orden de transporte                |
| idVehiculo       | CHAR(10)        | 10             | Identificador del vehículo                  |
| idCliente        | CHAR(10)        | 10             | Identificador del cliente                   |
| ruc_empresa      | VARCHAR2(120)   | 120            | RUC de la empresa emisora                   |
| fecha_emision    | DATE            | 7              | Fecha de emisión de la guía                 |
| fecha_traslado   | DATE            | 7              | Fecha programada del traslado               |
| **Subtotal**     |                | **170 bytes**  | Suma de todos los campos                    |
| Sobrecarga por fila | Interna (Oracle) | +11 bytes  | Metadata de fila (estimado promedio)       |
| **Total**        |                | **181 bytes**  | Tamaño real estimado por fila               |

---

## Espacio libre reservado

Se reserva el 10% del espacio de cada bloque para permitir pequeñas modificaciones sin causar fragmentación.

**Espacio útil por bloque:**  
8192 × 0.90 = **7372.8 bytes**

**Tamaño real por fila:**  
170 + 11 = **181 bytes**

**Registros por bloque:**  
7372 ÷ 181 ≈ **40.74 → 40 registros por bloque**

---

## Bloques requeridos por año

| Año | Registros estimados | Registros por bloque | Bloques necesarios |
|-----|----------------------|----------------------|---------------------|
| 1   | 9,600               | 40                   | 9600 ÷ 40 = 240     |
| 2   | 10,080              | 40                   | 10080 ÷ 40 = 252    |
| 3   | 10,684              | 40                   | 10684 ÷ 40 = 267    |

---

## Tamaño total estimado por año (bloques × 8 KB)

| Año | Bloques estimados | Tamaño total (bytes) | Tamaño total (MB) |
|-----|--------------------|----------------------|-------------------|
| 1   | 240                | 1,966,080            | 1.87 MB           |
| 2   | 252                | 2,065,344            | 1.97 MB           |
| 3   | 267                | 2,187,264            | 2.08 MB           |

---

## Tabla 2:PAQUETE

**Tamaño de bloque**  
8 KB (8,192 bytes)  
Oracle por defecto maneja tamaños de bloque de 8 KB.

**Tamaño de extent**  
64 KB (equivalente a 8 bloques)  
Diseñado para crecimiento gradual del sistema.

---

## Estructura del registro y tamaño del registro lógico

| Campo                  | Tipo de Dato   | Tamaño (bytes) | Comentario                                 |
|------------------------|----------------|----------------|--------------------------------------------|
| idPaquete              | NUMBER         | 8              | Clave primaria                             |
| idLote                 | NUMBER (FK)    | 8              | FK hacia lote                              |
| estado_paquete         | VARCHAR2(128)   | 128            | Estado del paquete                         |
| cantidad_producto      | INT             | 4              | Total de productos en el paquete           |
| ubicacion_paquete      | VARCHAR2(60)    | 60             | Ubicación física del paquete               |
| fecha_ingreso          | DATE            | 7              | Fecha de ingreso al sistema                |
| fecha_entrega_estimada | DATE            | 7              | Fecha estimada de entrega                  |
| **Subtotal**           |                | **222 bytes**  | Suma de todos los campos                   |
| Sobrecarga por fila    | Interna (Oracle)| +11 bytes      | Metadata promedio                          |
| **Total**              |                | **233 bytes**  | Tamaño real estimado por fila              |

---

## Espacio libre reservado

Se reserva el 10% del bloque para modificaciones futuras sin fragmentación.

**Espacio útil por bloque:**  
8192 × 0.90 = **7372.8 bytes**

**Tamaño real por fila:**  
222 + 11 = **233 bytes**

**Registros por bloque:**  
7372 ÷ 233 ≈ **31.64 → 31 registros por bloque**

---

## Bloques requeridos por año

| Año | Registros estimados | Registros por bloque | Bloques necesarios |
|-----|----------------------|----------------------|---------------------|
| 1   | 30,000              | 31                   | 30000 ÷ 31 ≈ 968   |
| 2   | 32,100              | 31                   | 1035               |
| 3   | 34,668              | 31                   | 1118               |

---

## Tamaño total estimado por año (bloques × 8 KB)

| Año | Bloques estimados | Tamaño total (bytes) | Tamaño total (MB) |
|-----|--------------------|----------------------|-------------------|
| 1   | 968                | 7,930,496            | 7.56 MB           |
| 2   | 1035               | 8,485,920            | 8.09 MB           |
| 3   | 1118               | 9,159,296            | 8.74 MB           |

# 5. Seguimiento del paquete

## Tabla 1: EVENTO_LOGÍSTICO

**Tamaño de bloque**
8 KB (8,192 bytes)

Oracle por defecto maneja tamaños de bloque de 8 KB.

**Tamaño de extent**

64 KB (equivalente a 8 bloques)
 
Se usa un tamaño de extent pequeño inicialmente porque se espera que el crecimiento de la tabla sea continuo pero controlado. Esto evita la fragmentación del espacio y permite escalabilidad en extensiones más grandes si el volumen lo requiere.

**Estructura del registro y tamaño del registro lógico**


| Campo        | Tipo de Dato   | Tamaño (bytes)             | Comentario                          |
|--------------|----------------|-----------------------------|-------------------------------------|
| idEvento     | NUMBER          | 8                           | Clave primaria numérica             |
| idPaquete    | NUMBER          | 8                           | Relación al paquete                 |
| idEmpleado   | NUMBER          | 8                           | Empleado que registra el evento     |
| descripcion  | VARCHAR2(255)   | 255                         | Descripción del evento              |
| fecha        | TIMESTAMP       | 11                          | Fecha y hora exacta del evento      |
| lugar        | VARCHAR2(128)   | 128                         | Lugar físico donde ocurre el evento |
| tipo         | VARCHAR2(64)    | 64                          | Tipo de evento (recepción, traslado, entrega) |
| Subtotal |                 | 482 bytes               | Suma de todos los campos            |
| Sobrecarga por fila | Interna (Oracle) | +11 bytes  | Metadata de fila, flags, longitud de columna, etc. |
| Total    |                 | 493 bytes              | Tamaño real estimado por fila       |

Nota: La sobrecarga por fila en Oracle varía entre 3 y 23 bytes dependiendo del número de columnas y tipo de datos. Aquí se asume un promedio razonable de 11 bytes por fila.

**Espacio libre reservado**

Se reserva el 10% del espacio de cada bloque para permitir pequeñas modificaciones posteriores a registros sin causar fragmentación de bloques. Esto es útil si, por ejemplo, la descripción o el lugar del evento necesitan ampliarse posteriormente.

**Tamaño total estimado**

Espacio útil por bloque:
  8,192 × 0.90 = 7,372.8 bytes

Tamaño real por fila (incluyendo sobrecarga):  
  482 bytes + 11 bytes = 493 bytes

Registros por bloque:
  16 registros por bloque

Bloques requeridos por año:

| Año | Registros estimados | Registros por bloque | Bloques necesarios |
|-----|----------------------|----------------------|---------------------|
| 1   | 36,000              | 16                   | 36,000 ÷ 16 = 2250 |
| 2   | 38,520              | 16                   | 38,520 ÷ 16 = 2408 |
| 3   | 41,602              | 16                   | 41,602 ÷ 16 = 2600 |

Tamaño total estimado por año (bloques × 8 KB):

| Año | Bloques estimados | Tamaño total (bytes) | Tamaño total (MB) |
|-----|--------------------|----------------------|-------------------|
| 1   | 2250              | 2250 × 8,192 = 18432000 |  17.58 MB |
| 2   | 2408             | 19726336          | 18.81 MB |
| 3   | 2600              | 21299200            |  20.31 MB |


## Tabla 2: NOTIFICACIÓN

**Tamaño de bloque**

8 KB (8,192 bytes)

**Tamaño de extent**

64 KB (8 bloques)

Un extent inicial de tamaño moderado facilita la expansión progresiva de la tabla a medida que se reciben más notificaciones, reduciendo fragmentación.

**Estructura del registro y tamaño del registro lógico**

| Campo        | Tipo de Dato   | Tamaño (bytes)             | Comentario                          |
|--------------|----------------|-----------------------------|-------------------------------------|
| idNotificacion | NUMBER        | 8                           | Clave primaria                      |
| idPaquete    | NUMBER          | 8                           | Relación al paquete                 |
| fecha        | TIMESTAMP       | 11                          | Fecha y hora de envío de la notificación |
| canal        | VARCHAR2(64)    | 64                          | Canal de envío (SMS, correo, push)  |
| tipo         | VARCHAR2(64)    | 64                          | Tipo de notificación (actualización, entrega, etc.) |
| contenido    | VARCHAR2(512)   | 512                         | Mensaje de contenido enviado        |
| Subtotal    |                 | 667 bytes              | Suma total de campos                |
| Sobrecarga por fila | Interna (Oracle) | +11 bytes  | Metadata de fila, flags, longitud de columna, etc. |
| Total    |                 | 678 bytes              | Tamaño real estimado por fila       |


**Espacio libre reservado**
10% (PCTFREE 10)
 
Se reserva el 10% del espacio de cada bloque para permitir pequeñas modificaciones posteriores en los registros, sin causar  migraciones de registros entre bloques.


**Tamaño total estimado**

Espacio útil por bloque:  
  8,192 bytes × 90% = 7,372.8 bytes utilizables.

Registros por bloque:  
  12 registros por bloque.

Bloques requeridos por año:
  - Año 1: 36000 ÷ 12 = 3000 bloques
  - Año 2: 36720 ÷ 12 = 3060 bloques
  - Año 3: 38189 ÷ 12 = 3182 bloques

Tamaño total estimado:
  - Año 1: 3000 bloques × 8 KB = 24,576,000 bytes = 23.44 MB
  - Año 2: 3060 bloques × 8 KB = 25,067,520 bytes = 23.91 MB
  - Año 3: 3182 bloques × 8 KB = 26,066,944 bytes = 24.86 MB
  
Cuadro de espacio estimado  

| Año  | Registros | Tamaño Estimado |
|------|-----------|-----------------|
| 1    | 36000    |  23.44 MB         |
| 2    | 36720    |  23.91 MB         |
| 3    | 38189    |  24.86 MB         |

# 6. Control de equipos

## Tabla 1:xxxx

**Tamaño de bloque**

**Tamaño de extent**

**Estructura del registro y tamaño del registro lógico**

**Espacio libre reservado**

**Tamaño total estimado**

## Tabla 2:xxxx

**Tamaño de bloque**

**Tamaño de extent**

**Estructura del registro y tamaño del registro lógico**

**Espacio libre reservado**

**Tamaño total estimado**
